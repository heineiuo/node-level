# memtable

## skiplist

1. 为什么要用skiplist？

skiplist相比数组，空间上有优势，相比链表，在速度上有优势。相比速度和空间上优势均等的
红黑树，在实现难度上有优势。

2. 如何实现skiplist？

http://dsqiu.iteye.com/blog/1705530

设置一个最大层数

根据最大层数创建head，head里面保存每一层的第一个node，每个node都指向右指向NIL，向下指向上一级节点

插入节点的时候，先获取一个随机层数，再和head里该层的第一个节点比较，如果：

相等，则替换值
否则比较同一层右边的值，最终插入到某个位置，同时向下面的层级插入


获取节点的时候，从head里最大level的node开始查找，如果：

相等则返回
否则跟右边的值比较，如果比右边的大继续向右边查找，否则向下查找，直到找到节点或未找到节点。
